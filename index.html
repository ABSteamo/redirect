<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>روابط متعددة مع احتياطي</title>
  <style>
    .item { margin-bottom: 30px; }
    .fallbackBtn { display: none; margin-top: 10px; }
    .iframeArea { display: none; }
  </style>
</head>
<body>
  <h1>روابط تحميل وفيديو مع احتياطي</h1>
  <div id="links"></div>
  <script>
    // قائمة الروابط (أضف ما تريد هنا!)
    const items = [
      {
        name: "فيديو 1",
        main: "https://example.com/video1",
        fallback: "https://backup.com/video1"
      },
      {
        name: "تطبيق 1",
        main: "https://example.com/app1",
        fallback: "https://backup.com/app1"
      },
      {
        name: "تحميل كتاب",
        main: "https://example.com/book",
        fallback: "https://backup.com/book"
      }
      // أضف المزيد بنفس الطريقة
    ];

    function tryMainLink(mainUrl, fallbackBtn, iframeArea) {
      iframeArea.src = mainUrl;
      iframeArea.style.display = 'block';
      fallbackBtn.style.display = 'none';
      // إذا لم يتم التحميل خلال 5 ثواني، أظهر زر الاحتياطي
      setTimeout(() => {
        fallbackBtn.style.display = 'inline-block';
      }, 5000);
      iframeArea.onload = function() {
        fallbackBtn.style.display = 'none';
      };
    }

    // بناء العناصر في الصفحة
    const container = document.getElementById('links');
    items.forEach(item => {
      const div = document.createElement('div');
      div.className = 'item';
      div.innerHTML = `
        <h3>${item.name}</h3>
        <button onclick="window.open('${item.main}', '_blank');">الرابط الأساسي</button>
        <button class="fallbackBtn" onclick="window.open('${item.fallback}', '_blank');">الرابط الاحتياطي</button>
        <button onclick="tryMainLink('${item.main}', this.nextElementSibling, this.nextElementSibling.nextElementSibling)">اختبر الرابط الأساسي</button>
        <iframe class="iframeArea"></iframe>
      `;
      container.appendChild(div);
    });

    // تعريف الدالة في النطاق العام
    window.tryMainLink = tryMainLink;
  </script>
</body>
</html>
